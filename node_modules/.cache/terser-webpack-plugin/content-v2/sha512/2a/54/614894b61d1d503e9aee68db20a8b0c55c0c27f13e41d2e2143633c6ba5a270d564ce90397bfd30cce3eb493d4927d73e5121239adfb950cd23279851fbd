{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";function o(e,t,n){this.title=e,this.author=t,this.pages=n,this.read=!1}function r(){const e=function(e){return new o(e.querySelector(\"#title\").value,e.querySelector(\"#author\").value,e.querySelector(\"#pages\").value)}(document.getElementById(\"new-book-form\"));return l(document.getElementById(\"library\"),e,localStorage.length),i(),null}function l(e,t,n=null,o=null,r=!1){return r?e.appendChild(u(t,o,!t.read)):(!function(e,t){const n=`${e.title},${e.author},${e.pages},${e.read}`;localStorage.setItem(t.toString(),n)}(t,n),e.appendChild(u(t,n))),null}function c(){const e=document.getElementById(\"new-book-form\"),t=\"none\"==e.style.display;return e.style.display=t?\"block\":\"none\",null}function u(e,t,n=!0){const o=document.createElement(\"tr\"),r=[document.createElement(\"td\"),document.createElement(\"td\"),document.createElement(\"td\")];return o.setAttribute(\"data-index\",t.toString()),function(e,t){const n=[t.title,t.author,t.pages];e.forEach((e,t)=>{e.innerText=n[t]})}(r,e),function(e,t,n=!0){t.forEach(t=>{e.appendChild(t)}),function(e){const t=document.createElement(\"td\"),n=document.createElement(\"button\");n.type=\"button\",n.innerText=\"Delete\",n.addEventListener(\"click\",e=>{const t=e.target.parentNode.parentNode,n=Number(t.getAttribute(\"data-index\"));return e.target.parentNode.parentNode.parentNode.removeChild(t),function(e){document.querySelectorAll(\"#library tr\");let t,n;for(let o=e+1;o<localStorage.length;o++)console.log(o),t=localStorage.getItem(o.toString()),n=document.querySelector(`tr[data-index=\"${o}\"]`),n.setAttribute(\"data-index\",(o-1).toString()),localStorage.setItem((o-1).toString(),t);localStorage.removeItem((localStorage.length-1).toString())}(n),null}),t.appendChild(n),e.appendChild(t)}(e),function(e,t=!0){const n=document.createElement(\"td\"),o=document.createElement(\"input\");o.type=\"checkbox\",o.checked=!t,o.addEventListener(\"click\",e=>{const t=e.target.parentNode.parentNode;!function(e){let t=localStorage.getItem(e.toString());t=t.split(\",\");const n=\"true\"==t[t.length-1];t[t.length-1]=n?\"false\":\"true\",t=t.join(\",\"),localStorage.setItem(e.toString(),t)}(Number(t.getAttribute(\"data-index\")))}),n.appendChild(o),e.appendChild(n)}(e,n)}(o,r,n),o}function a(e){const t=e.split(\",\"),n=t[0],r=t[1],l=Number(t[2]),c=!(\"false\"==t[3]),u=new o(n,r,l);return u.read=c,u}function i(){return function(){const e=document.getElementById(\"new-book-form\"),t=e.querySelector(\"#title\"),n=e.querySelector(\"#author\"),o=e.querySelector(\"#pages\");t.value=\"\",n.value=\"\",o.value=\"\"}(),document.getElementById(\"new-book-form\").style.display=\"none\",null}n.r(t),o.prototype={constructor:o,toggleRead(){return this.read=!this.read,null},isInLibrary(e){return e.includes(this)},appendToLibrary(e){return e.concat(this)},removeFromLibrary(e){const t=e.indexOf(this);return e.slice(0,t).concat(e.slice(t+1))}},document.addEventListener(\"DOMContentLoaded\",()=>{const e=document.getElementById(\"new-book-form\"),t=document.getElementById(\"new-book\"),n=document.getElementById(\"new-book-create\"),o=document.getElementById(\"new-book-cancel\");!function(){const e=[],t=document.getElementById(\"library\");for(let t=0;t<localStorage.length;t++)e.push(localStorage.getItem(t.toString()));for(let t=0;t<e.length;t++)e[t]=a(e[t]);e.forEach((e,n)=>{l(t,e,null,n,!0)})}(),e.style.display=\"none\",t.addEventListener(\"click\",c),n.addEventListener(\"click\",r),o.addEventListener(\"click\",i)})}]);","extractedComments":[]}